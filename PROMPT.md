# PROMPT.md — 플레이스닥터 바이브코딩 프롬프트 모음

> 이 파일의 프롬프트를 순서대로 Claude에게 던지면 서비스가 완성된다.
> 매 프롬프트마다 CLAUDE.md와 BRAND.md를 함께 첨부할 것.

---

## 🏠 Part A: 랜딩페이지 (✅ 완료)

> 아래는 랜딩페이지 빌드 시 사용한 프롬프트 기록.
> 이미 배포 완료: https://placedoctor.vercel.app/

<details>
<summary>📁 랜딩페이지 프롬프트 (접기/펼치기)</summary>

### 0. 프로젝트 세팅

```
CLAUDE.md와 BRAND.md를 읽고 프로젝트를 세팅해줘.

1. Next.js 14 (App Router) + TypeScript + TailwindCSS 프로젝트 생성
2. shadcn/ui 초기화 + 필요한 컴포넌트 설치 (button, input, card, badge, accordion)
3. framer-motion 설치
4. tailwind.config.ts에 CLAUDE.md의 컬러 시스템 적용
5. globals.css에 Pretendard + Noto Sans KR 폰트 설정
6. app/layout.tsx에 메타데이터 + OG 태그 설정

CLAUDE.md의 "개발 시작 명령어"와 "Tailwind 설정"을 참고해.
```

### 1. Navbar

```
CLAUDE.md와 BRAND.md를 참고해서 Navbar 컴포넌트를 만들어줘.

요구사항:
- 좌측: 로고 텍스트 "플레이스닥터" (font-display, #023047)
- 우측: "무료 진단받기" CTA 버튼 (#219EBC, hover시 #FB8500)
- 스크롤 시 배경 블러 + 그림자 (sticky)
- 모바일: 로고 + CTA만 (햄버거 메뉴 불필요, 원페이지라)
- shadcn Button 컴포넌트 사용
```

### 2. Hero 섹션

```
CLAUDE.md와 BRAND.md를 참고해서 Hero 섹션을 만들어줘.

요구사항:
- 배경: #0d1b2a (다크) 위에 미묘한 그라디언트 또는 도트 패턴
- 헤드라인: "옆 가게는 왜 나보다 위에 뜰까?" (Noto Sans KR 700, 큰 사이즈, white)
- 서브카피: "네이버 플레이스 점수를 5초 만에 확인하세요.\nAI가 검색 순위 올리는 방법을 알려드립니다." (Pretendard, #e0e1dd)
- CTA 버튼: "무료로 진단받기" (#219EBC, hover #FB8500, 큰 사이즈)
- 우측 또는 하단에 점수 카드 미리보기 (62/100 점수 + 항목 바)
- Framer Motion: 헤드라인 → 서브카피 → CTA → 카드 순서로 stagger 애니메이션
- 모바일: 세로 스택, CTA full-width

BRAND.md의 톤을 따를 것. 영어 사용 금지. 쉬운 한국어만.
```

### 3. ProblemSection

```
CLAUDE.md와 BRAND.md를 참고해서 ProblemSection을 만들어줘.

요구사항:
- 배경: white 또는 #e0e1dd
- 섹션 타이틀: "이런 고민, 사장님만 하는 게 아닙니다" (#023047)
- 3개의 고민 카드:
  1. 💬 "등록은 했는데 뭐가 바뀐 게 없어요"
  2. 🔍 "옆 가게는 검색하면 바로 뜨는데 우리는 안 보여요"
  3. 💸 "대행사 맡기자니 월 50만원은 부담되고..."
- 각 카드: shadcn Card, 좌측에 이모지, 인용부호 스타일
- 하단: "혹시 네이버 플레이스, 등록만 해두고 방치하고 계신 건 아닌가요?" (강조)
- Framer Motion: 카드 stagger 진입
```

### 4. ScoreDemo ⭐

```
CLAUDE.md와 BRAND.md를 참고해서 ScoreDemo 섹션을 만들어줘.
이 섹션이 랜딩페이지에서 가장 중요한 킬러 섹션이다.

요구사항:
- 배경: #0d1b2a (다크)
- 섹션 타이틀: "우리 가게, 몇 점일까?" (white)
- 업종 탭 3개: 카페 / 음식점 / 미용실
- 탭 선택 → "AI 분석 중..." 로딩 (2초) → 결과 카드 등장

결과 카드: CLAUDE.md의 sampleData 참조
- 전체 점수 카운트업 애니메이션 (0→62)
- 항목별 바 그래프 + 상태 배지 (🔴부족 🟡보통 🟢양호)
- 개선 팁
- CTA: "정확한 진단 받기 →" (#FB8500)

점수 색상: BRAND.md의 점수 시각화 컬러 규칙 따를 것.
```

### 5. Features

```
CLAUDE.md와 BRAND.md를 참고해서 Features 섹션을 만들어줘.

5개 기능 카드 (2열 그리드, 모바일 1열):
1. 📊 "100점 만점 건강 점수" - "가게 링크만 넣으면 5초 만에 진단"
2. 📸 "'이것만 고치세요' 맞춤 가이드" - "구체적으로 알려드려요"
3. 🏪 "동네 경쟁 가게 비교" - "같은 동네 5곳과 비교"
4. 🔍 "검색 잘 되는 키워드 추천" - "'합정 작업하기 좋은 카페'가 효과적"
5. ✏️ "AI 소개글·메뉴 설명 작성" - "검색에 잘 잡히는 글을 AI가 써드려요"
```

### 6. Pricing

```
CLAUDE.md와 BRAND.md를 참고해서 Pricing 섹션을 만들어줘.

- 섹션 타이틀: "대행사에 월 50만원? AI가 대신합니다"
- 3개 가격 카드: 무료(0원) / 베이직 ⭐(월 9,900원) / 프로(월 19,900원)
- 베이직에 "추천" 배지
- 하단: "* 출시 후 첫 달 무료 체험 가능"
```

### 7. FAQ

```
CLAUDE.md와 BRAND.md를 참고해서 FAQ 섹션을 만들어줘.
shadcn Accordion 사용. 5개 질문. BRAND.md 톤으로 답변.
```

### 8. CTASection + API

```
CLAUDE.md와 BRAND.md를 참고해서 CTASection과 이메일 수집 API를 만들어줘.

CTASection:
- 배경: #023047
- 헤드라인: "출시되면 가장 먼저 알려드릴게요"
- 폼: 이메일 (필수) + 업종 선택 + "가장 어려운 점" (선택)
- 제출 버튼: "출시 알림 받기" (#FB8500)
- 성공: "✅ 등록 완료!" 메시지

API (app/api/subscribe/route.ts):
- Supabase subscribers 테이블에 저장
- 이메일 중복 체크
- 한국어 에러 메시지
```

### 9. Footer + 조립 + 배포

```
Footer 만들고, 모든 섹션을 page.tsx에 조립하고, 반응형 점검.
Vercel 배포 설정.
```

</details>

---

## 🔧 Part B: MVP 개발 (Phase 2)

> 랜딩페이지 검증 후, 실제 진단 서비스를 만드는 프롬프트.
> 투표 결과 + 이메일 30개 확인 후 시작.

---

### B-0. Phase 2 프로젝트 준비

```
CLAUDE.md와 BRAND.md를 읽고 Phase 2 MVP 개발을 시작해줘.

기존 랜딩페이지 프로젝트에 아래를 추가:

1. 패키지 설치:
   npm install @anthropic-ai/sdk cheerio @tosspayments/payment-sdk

2. Supabase에 Phase 2 테이블 생성:
   CLAUDE.md의 "Phase 2 (MVP)" DB 스키마 섹션 참고해서
   users, stores, reports, reviews, keywords, payments 테이블 생성

3. 환경 변수 추가:
   ANTHROPIC_API_KEY, TOSS_CLIENT_KEY, TOSS_SECRET_KEY

4. 프로젝트 구조에 Phase 2 폴더 추가:
   - app/dashboard/ (대시보드 페이지)
   - lib/scraper/ (크롤러)
   - lib/analyzer/ (분석 엔진)
   - lib/ai/ (Claude API 연동)
   - types/index.ts (공통 타입)

타입 정의부터 만들어줘. CLAUDE.md의 PlaceData, ScoreBreakdown 인터페이스 참고.
```

---

### B-1. 카카오 로그인

```
CLAUDE.md를 참고해서 카카오 소셜 로그인을 구현해줘.

요구사항:
- Supabase Auth + 카카오 프로바이더
- 로그인 버튼: "카카오로 시작하기" (카카오 옐로우 배경)
- 로그인 후 → /dashboard로 리다이렉트
- 미로그인 시 /dashboard 접근 → 로그인 페이지로 리다이렉트
- Navbar에 로그인 상태 반영 (로그인 시 "내 대시보드" 버튼)
- 사장님이 카카오톡으로 하는 거라 진입장벽 최소화

app/login/page.tsx + middleware.ts 생성.
```

---

### B-2. 네이버 플레이스 크롤러

```
CLAUDE.md를 참고해서 네이버 플레이스 크롤러를 만들어줘.

lib/scraper/naverPlace.ts:
- 입력: 네이버 플레이스 URL 또는 가게명
- 출력: PlaceData 인터페이스 (CLAUDE.md 참고)
- cheerio로 HTML 파싱

크롤링 대상 (네이버 플레이스 모바일 페이지):
- 가게명, 카테고리, 주소, 전화번호
- 영업시간
- 소개글 전체 텍스트
- 사진 총 개수 + 카테고리별 개수
- 리뷰 수, 평균 별점, 최근 리뷰 10개 (작성자, 별점, 내용, 사진 유무)
- 사장님 답변 여부/내용
- 메뉴 목록 (이름, 가격, 사진 유무, 설명 유무)
- 최근 소식/업데이트 날짜

크롤링 규칙:
- User-Agent 모바일 UA 3~5종 로테이션
- 요청 간격 2~5초 랜덤 딜레이
- 에러 시 exponential backoff
- 결과 Supabase에 캐싱 (24시간)

테스트용으로 실제 가게 URL 1개로 테스트하는 스크립트도 만들어줘.
```

---

### B-3. 점수 계산 엔진

```
CLAUDE.md를 참고해서 점수 계산 엔진을 만들어줘.

lib/analyzer/scoreCalculator.ts:
- 입력: PlaceData
- 출력: ScoreResult (총점 + 6개 항목별 점수 + 상세 내역)

채점 기준 (CLAUDE.md 참고):
- 기본 정보 (15점): 영업시간, 주소, 전화번호, 소개글 유무
- 사진 (20점, 업체 사진만): 장수별 구간 + 카테고리 다양성 (방문자 사진 제외)
- 리뷰 (25점): 답변률 구간 + 24시간 내 답변 가산
- 메뉴 (15점): 등록 여부 + 가격 + 사진 + 설명
- 키워드 (15점): 소개글 내 업종+지역 키워드 포함 여부
- 활성도 (10점): 최근 소식 업로드 주기

AI 호출 없이 순수 규칙 기반으로 계산 (비용 절약).
각 항목에 "잘하고 있는 점"과 "개선할 점"을 문자열로 생성.
```

---

### B-4. 진단 리포트 UI (대시보드)

```
CLAUDE.md와 BRAND.md를 참고해서 대시보드 진단 리포트 페이지를 만들어줘.

app/dashboard/page.tsx:
- 가게 등록: URL 입력 → "진단하기" 버튼
- 등록된 가게 리스트 (카드형)
- 각 가게 클릭 → 상세 리포트

app/dashboard/[storeId]/page.tsx:
- 상단: 가게명 + 전체 점수 (큰 숫자 + 게이지)
- 6개 항목별 점수 카드 (프로그레스 바 + 상태 배지)
- 각 항목 펼치면 상세 내역 + 개선 액션
- 하단: AI 종합 코멘트 (Claude API)

스타일: BRAND.md 컬러 시스템 + 점수별 색상 규칙 적용.
랜딩페이지의 ScoreDemo와 비슷한 느낌이지만, 실제 데이터 기반.
```

---

### B-5. AI 분석 코멘트 (Claude API)

```
CLAUDE.md를 참고해서 AI 분석 코멘트 생성 모듈을 만들어줘.

lib/ai/placeAnalyzer.ts:
- 입력: PlaceData + ScoreResult
- 출력: 종합 분석 코멘트 (3~5문장)

app/api/analyze/route.ts:
- POST 요청 → 크롤링 → 점수 계산 → AI 코멘트 → 저장 → 반환

Claude API 설정:
- 모델: claude-sonnet-4-20250514
- max_tokens: 500
- 시스템 프롬프트: CLAUDE.md의 AI 모듈 섹션 참고
  - "네이버 플레이스 최적화 전문가"
  - "소상공인 사장님(평균 53세)에게 말하듯 쉬운 한국어로"
  - "IT 용어 금지"

BRAND.md의 AI 분석 코멘트 톤 예시를 반드시 따를 것.
비용: 분석 1건당 $0.01~0.03 목표. 프롬프트를 짧고 명확하게.
```

---

### B-6. AI 리뷰 답변 생성

```
CLAUDE.md와 BRAND.md를 참고해서 AI 리뷰 답변 생성 기능을 만들어줘.

lib/ai/reviewReply.ts:
- 입력: Review + 가게명 + 톤 선택
- 출력: 답변 3가지 버전

app/api/reviews/[reviewId]/generate/route.ts:
- POST 요청으로 톤 선택 받아서 답변 3개 생성

대시보드 리뷰 탭:
- 미답변 리뷰 목록 (최근 순)
- 각 리뷰 옆 "답변 생성" 버튼
- 톤 선택: 🙂 친근 / 🤝 정중 / 😄 유머
- 생성된 답변 3개 → "복사" 버튼 (원클릭)
- 복사 후 "✅ 복사됨!" 토스트

BRAND.md의 "리뷰 답변 생성 톤 예시" 반드시 따를 것.
무료 유저: 월 3회 / 베이직: 월 50회 / 프로: 무제한. 횟수 체크 로직 포함.
```

---

### B-7. 경쟁 가게 비교

```
CLAUDE.md를 참고해서 경쟁 가게 비교 기능을 만들어줘.

동작 흐름:
1. 내 가게 분석 완료 후 → "경쟁 가게 비교" 탭
2. 자동으로 동일 업종 + 반경 500m 상위 가게 3곳 크롤링
3. 비교 테이블:
   - 리뷰 수, 평점, 사장님 답변률, 사진 수, 소개글 길이
   - 각 항목에서 내가 이기고 있으면 🟢, 지고 있으면 🔴
4. AI 코멘트: "이 가게가 당신보다 위에 뜨는 이유" (1~2문장)

경쟁 가게 검색:
- 네이버 플레이스에서 동일 카테고리 + 지역 검색
- 리뷰 순/별점 순 상위 3~5곳 선택
- 크롤러 재사용

무료 유저: 비교 기능 잠금 (블러 처리) / 베이직: 3곳 / 프로: 5곳
```

---

### B-8. 키워드 추천

```
CLAUDE.md를 참고해서 키워드 추천 기능을 만들어줘.

lib/analyzer/keywordAnalyzer.ts:
- 현재 소개글에서 키워드 추출
- 동일 업종 상위 가게들의 공통 키워드 분석
- 지역명 + 업종 조합 키워드 생성 (예: "합정 브런치 카페")

대시보드 키워드 탭:
- 현재 사용 중인 키워드 (태그 형태)
- 추천 키워드 (태그 + "추가하세요" 표시)
- 각 키워드 클릭 → "이 키워드를 소개글에 넣으세요" 가이드

BRAND.md 톤: "'합정 카페'보다 '합정 작업하기 좋은 카페'가 효과적이에요"
무료: 3개 / 베이직: 10개 / 프로: 20개
```

---

### B-9. 토스페이먼츠 결제

```
CLAUDE.md를 참고해서 토스페이먼츠 월정액 결제를 구현해줘.

app/api/payments/checkout/route.ts:
- 요금제 선택 → 토스 결제창 호출
- 베이직: 9,900원/월, 프로: 19,900원/월

app/api/payments/confirm/route.ts:
- 토스 웹훅으로 결제 확인
- users 테이블의 plan, plan_expires_at 업데이트
- payments 테이블에 기록

app/api/payments/cancel/route.ts:
- 구독 취소 (다음 결제일부터 free로 전환)

대시보드에 요금제 관리 UI:
- 현재 플랜 표시
- "업그레이드" / "다운그레이드" 버튼
- 결제 내역 리스트
```

---

### B-10. 무료/유료 기능 분기

```
CLAUDE.md의 수익 모델 표를 참고해서 무료/유료 기능 분기를 구현해줘.

lib/plan.ts:
- getPlanLimits(plan): 각 플랜별 제한 사항 반환
- checkUsage(userId, feature): 사용량 체크
- isFeatureAvailable(plan, feature): 기능 접근 가능 여부

분기 포인트:
1. 진단 횟수: free(월 1회) / basic(무제한) / pro(무제한)
2. AI 리뷰 답변: free(월 3회) / basic(월 50회) / pro(무제한)
3. 경쟁 비교: free(❌) / basic(3곳) / pro(5곳)
4. 키워드 추천: free(3개) / basic(10개) / pro(20개)
5. 가게 수: free(1개) / basic(1개) / pro(3개)

잠금 UI:
- 무료 유저가 유료 기능 접근 시 → 블러 오버레이 + "베이직으로 업그레이드" CTA
- BRAND.md 톤: 강요하지 않고 가치를 보여주기
```

---

### B-11. QA + 베타 출시

```
전체 MVP를 점검하고 베타 출시를 준비해줘.

점검 항목:
1. 모든 API 엔드포인트 에러 핸들링 확인
2. 크롤링 실패 시 사용자에게 보이는 에러 메시지 (한국어)
3. 모바일 반응형 (375px ~ 428px)
4. 로딩 상태 UI (스켈레톤 또는 스피너)
5. 결제 플로우 전체 테스트
6. 무료 → 유료 전환 UX 자연스러운지
7. AI 응답 시간 (3초 이내 목표)
8. Lighthouse 성능 체크 (모바일 80점+)
9. OG 태그 + 카카오 공유 미리보기

배포:
- Vercel에 환경 변수 설정
- 프로덕션 빌드 확인
- 에러 모니터링 (Vercel 로그)
```

---

## 🔮 Part C: 성장 기능 (Phase 3+)

> MVP 안정화 후 추가. 필요할 때 사용.

### C-1. 카카오톡 주간 알림 (v1.1)

```
카카오 알림톡 API를 연동해서 주간 리포트 알림을 보내줘.

매주 월요일 오전 9시:
- 이번 주 점수 변화 (예: "지난주 62점 → 이번 주 67점 (+5)")
- 신규 리뷰 수 + 미답변 리뷰 수
- 이번 주 추천 액션 1가지

Vercel Cron Job으로 스케줄링.
프로 플랜 유저만 발송.
```

### C-2. 블로그 글 AI 생성 (v1.2)

```
가게 정보 기반으로 네이버 블로그 글을 AI가 생성해주는 기능.
- 가게명, 위치, 메뉴, 분위기를 바탕으로 1,500자+ 블로그 글 초안
- 네이버 SEO에 최적화된 키워드 자연 삽입
- "복사하기" → 네이버 블로그에 붙여넣기
- 프로 플랜: 월 4편
```

### C-3. 모바일 스티키 CTA

```
모바일에서 스크롤하면 하단에 고정되는 CTA 버튼.
"무료로 진단받기" — Hero를 지나면 나타나고, CTASection에 도달하면 사라짐.
```

### C-4. 소셜 프루프 카운터

```
Hero 또는 CTA 섹션에 카운터:
"현재 OOO명의 사장님이 대기 중입니다"
숫자 카운트업 애니메이션. 초기값 하드코딩, 이후 실제 subscribers 수로 교체.
```

### C-5. 카카오톡 공유

```
CTASection에 "카카오톡으로 공유하기" 버튼.
Kakao JavaScript SDK 사용.
공유 메시지: "우리 가게 네이버 플레이스 점수가 몇 점인지 알아보세요!"
```

---

## 📋 프롬프트 사용 팁

### 항상 함께 첨부할 파일
1. **CLAUDE.md** — 기술 스펙, 컬러, 구조, DB 스키마
2. **BRAND.md** — 톤, 카피, 디자인 원칙

### 프롬프트 활용법
- 하나씩 순서대로 실행 (한 번에 여러 개 X)
- 결과 확인 후 다음으로 넘어가기
- 문제 있으면 "CLAUDE.md와 BRAND.md 다시 확인하고 [문제점]을 수정해줘"로 수정 요청
- 새 기능 추가 시 "CLAUDE.md를 참고해서 [기능]을 만들어줘"로 시작

### 에러 대응 프롬프트
```
CLAUDE.md를 참고해서 [에러 내용]을 수정해줘.
[에러 로그 또는 스크린샷 붙여넣기]
```